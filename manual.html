<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CIMUnit: How to Use CIMUnit</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CIMUnit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">How to Use CIMUnit </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>CIMUnit isn't a unit test framework, but a multithreaded testing framework. It provides the capability to control the order of execution of threads, but not the ability to add asserts or other methods to ensure the software under test has executed properly. Users must either write their own code to verify the software under test or use testing frameworks such as CUnit or CppUnit.</p>
<p>Testers typically interract with three macros defined in <a class="el" href="cimunit_8h.html">cimunit.h</a>. They are</p>
<ul>
<li><a class="el" href="group__cimunit.html#ga8d5cdd678383afa1b8c0439025339887">CIMUNIT_SCHEDULE()</a></li>
<li><a class="el" href="group__cimunit.html#gac71b8001526bea0ad3cec09dacec617e">CIMUNIT_FIRE()</a></li>
<li><a class="el" href="group__cimunit.html#ga9f9052499547cd765fdf63f611135a7b">CIMUNIT_THREAD_NAME()</a></li>
</ul>
<h2><a class="anchor" id="grammar"></a>
CIMUnit Schedule Grammar</h2>
<div class="fragment"><pre class="fragment">
        &lt;Schedule&gt; ::= &lt;Ordering&gt;
                     | &lt;Schedule&gt; "," &lt;Ordering&gt;
        &lt;Ordering&gt; ::= &lt;Condition&gt; "-&gt;" &lt;Action&gt;
       &lt;Condition&gt; ::= &lt;SingleCondition&gt;
                     | &lt;LogicalCondition&gt;
 &lt;SingleCondition&gt; ::= &lt;BasicEvent&gt;
                     | &lt;BlockEvent&gt;
&lt;LogicalCondition&gt; ::= "(" &lt;Condition&gt; ")"
                     | &lt;Condition&gt; "&amp;&amp;" &lt;SingleCondition&gt;
                     | &lt;Condition&gt; "||" &lt;SingleCondition&gt;
          &lt;Action&gt; ::= &lt;BasicEvent&gt;
      &lt;BasicEvent&gt; ::= &lt;EventName&gt; [ "@" &lt;ThreadName&gt; ]
      &lt;BlockEvent&gt; ::= "[" &lt;BasicEvent&gt; "]"
       &lt;EventName&gt; ::= &lt;Id&gt;
      &lt;ThreadName&gt; ::= &lt;Id&gt;
              &lt;Id&gt; ::= [0-9a-zA-Z_:/]*
</pre></div><p>A CIMUnit schedule defines which events must have fired before another event can fire. Event and thread names are composed of letters, numbers and the ':' and '/' symbols. The basic unit of a schedule is an ordering. The &lt;condition&gt; event in the ordering is the event that must fire before the &lt;action&gt; event is allowed to proceed. If the &lt;action&gt; event is fired before the &lt;condition&gt; event the thread firing the &lt;action&gt; event is put to sleep until the &lt;condition&gt; event fires.</p>
<p>The &lt;condition&gt; event may be composed of multiple events connected together via the '&amp;&amp;' and '||' logical operators. Ordering is from left to right and may be modified by the use of '()'. &lt;BlockEvent&gt; events are not currently supported.</p>
<p>The schedule <b>a-&gt;b</b> means that event <b>a</b> must fire before the firing of event <b>b</b> is allowed to complete.</p>
<p>The schedule <b>a-&gt;b,b-&gt;c</b> defines two orderings. In order for event <b>c</b> to complete firing both event <b>a</b> and event <b>b</b> must fire first.</p>
<p>The schedule <b>a&amp;&amp;(b||c)-&gt;d</b> defines a schedule where event <b>d</b> fires if event <b>a</b> has fired along with either event <b>b</b> or event <b>c</b>. </p>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 1 2011 22:22:41 for CIMUnit by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
